<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataApp - Aplikasi Penyimpanan Data</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #800020; /* Maroon */
            --secondary-color: #a52a2a;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--primary-color);
            color: var(--light-color);
            min-height: 100vh;
            display: flex;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 250px;
            background-color: var(--dark-color);
            min-height: 100vh;
            padding: 20px 0;
            transition: all 0.3s;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }

        .sidebar-header h2 {
            color: var(--light-color);
            font-size: 24px;
            margin-bottom: 5px;
        }

        .sidebar-header p {
            color: #adb5bd;
            font-size: 14px;
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 5px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: #adb5bd;
            text-decoration: none;
            transition: all 0.3s;
        }

        .sidebar-menu a:hover, .sidebar-menu a.active {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--light-color);
        }

        .sidebar-menu i {
            margin-right: 10px;
            font-size: 18px;
        }

        /* Main Content */
        .main-content {
            margin-left: 250px;
            flex: 1;
            padding: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 28px;
            color: var(--light-color);
        }

        .user-info {
            display: flex;
            align-items: center;
        }

        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }

        /* Login Form */
        .login-container {
            max-width: 400px;
            margin: 50px auto;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .login-container h2 {
            text-align: center;
            margin-bottom: 25px;
            color: var(--light-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--light-color);
            font-size: 16px;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(165, 42, 42, 0.3);
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            text-align: center;
        }

        .btn:hover {
            background-color: var(--primary-color);
        }

        .btn-block {
            display: block;
            width: 100%;
        }

        .btn-danger {
            background-color: var(--danger-color);
        }

        .btn-danger:hover {
            background-color: #c82333;
        }

        .btn-success {
            background-color: var(--success-color);
        }

        .btn-success:hover {
            background-color: #218838;
        }

        /* Cards */
        .card {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
            overflow: hidden;
        }

        .card-header {
            padding: 15px 20px;
            background-color: rgba(0, 0, 0, 0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-header h3 {
            margin: 0;
            font-size: 18px;
        }

        .card-body {
            padding: 20px;
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        th {
            background-color: rgba(0, 0, 0, 0.2);
            font-weight: 600;
        }

        tr:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        /* Search Box */
        .search-box {
            position: relative;
            margin-bottom: 20px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 40px 12px 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--light-color);
        }

        .search-box i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #adb5bd;
        }

        /* Data Item */
        .data-item {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .data-item:last-child {
            border-bottom: none;
        }

        .data-item h4 {
            margin-bottom: 8px;
            color: var(--light-color);
        }

        .data-item p {
            margin-bottom: 10px;
            color: #adb5bd;
        }

        .data-actions {
            display: flex;
            gap: 10px;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 5px;
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 2000;
            transform: translateX(150%);
            transition: transform 0.3s ease-in-out;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background-color: var(--success-color);
        }

        .notification.error {
            background-color: var(--danger-color);
        }

        .notification.warning {
            background-color: var(--warning-color);
            color: var(--dark-color);
        }

        /* Responsive */
        .toggle-sidebar {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background-color: var(--dark-color);
            color: var(--light-color);
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .toggle-sidebar {
                display: block;
            }
        }

        /* Admin Access Levels */
        .access-level {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .access-level.full {
            background-color: var(--success-color);
        }

        .access-level.limited {
            background-color: var(--warning-color);
            color: var(--dark-color);
        }

        .access-level.view {
            background-color: #17a2b8;
        }

        /* Account Data Section */
        .account-data {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .account-card {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .account-card h4 {
            margin-bottom: 15px;
            color: var(--light-color);
        }

        .account-details {
            margin-bottom: 15px;
        }

        .account-details p {
            margin-bottom: 8px;
            color: #adb5bd;
        }

        .account-details strong {
            color: var(--light-color);
        }
    </style>
</head>
<body>
    <!-- Toggle Sidebar Button for Mobile -->
    <button class="toggle-sidebar" id="toggleSidebar">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>DataApp</h2>
            <p>Aplikasi Penyimpanan Data</p>
        </div>
        <ul class="sidebar-menu">
            <li><a href="#" class="menu-link active" data-page="dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li><a href="#" class="menu-link" data-page="input"><i class="fas fa-plus-circle"></i> Input Data</a></li>
            <li><a href="#" class="menu-link" data-page="search"><i class="fas fa-search"></i> Cari Data</a></li>
            <li><a href="#" class="menu-link" data-page="report"><i class="fas fa-file-alt"></i> Report</a></li>
            <li><a href="#" class="menu-link" data-page="account"><i class="fas fa-university"></i> Data Rekening</a></li>
            <li><a href="#" class="menu-link" data-page="admin"><i class="fas fa-user-shield"></i> Admin</a></li>
            <li><a href="#" class="menu-link" data-page="logout"><i class="fas fa-sign-out-alt"></i> Keluar</a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="header">
            <h1 id="pageTitle">Dashboard</h1>
            <div class="user-info">
                <span id="currentUser">Admin</span>
                <img src="https://picsum.photos/seed/user123/40/40.jpg" alt="User">
            </div>
        </div>

        <!-- Page Content -->
        <div id="pageContent">
            <!-- Dashboard Content -->
            <div class="page" id="dashboard-page">
                <div class="card">
                    <div class="card-header">
                        <h3>Selamat Datang di DataApp</h3>
                    </div>
                    <div class="card-body">
                        <p>DataApp adalah aplikasi sederhana untuk menyimpan dan mengelola data penting. Dengan antarmuka yang modern dan mudah digunakan, Anda dapat dengan cepat menyimpan informasi dan menemukannya kembali saat dibutuhkan. Data disimpan di cloud sehingga dapat diakses oleh siapa saja yang menggunakan aplikasi ini.</p>
                        <br>
                        <h4>Fitur utama:</h4>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Penyimpanan data di cloud dengan Firebase</li>
                            <li>Data dapat diakses oleh semua pengguna</li>
                            <li>Pencarian data yang cepat dan mudah</li>
                            <li>Tombol salin untuk mengambil data dengan tepat</li>
                            <li>Antarmuka yang modern dan responsif</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Statistik Data</h3>
                    </div>
                    <div class="card-body">
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px;">
                            <div style="background-color: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 10px; text-align: center;">
                                <h3 style="font-size: 32px; margin-bottom: 10px;" id="totalData">0</h3>
                                <p>Total Data</p>
                            </div>
                            <div style="background-color: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 10px; text-align: center;">
                                <h3 style="font-size: 32px; margin-bottom: 10px;" id="totalAccounts">0</h3>
                                <p>Data Rekening</p>
                            </div>
                            <div style="background-color: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 10px; text-align: center;">
                                <h3 style="font-size: 32px; margin-bottom: 10px;" id="totalAdmins">0</h3>
                                <p>Total Admin</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Input Data Content -->
            <div class="page" id="input-page" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <h3>Input Data</h3>
                    </div>
                    <div class="card-body">
                        <form id="inputDataForm">
                            <div class="form-group">
                                <label for="dataTitle">Judul</label>
                                <input type="text" class="form-control" id="dataTitle" placeholder="Masukkan judul data" required>
                            </div>
                            <div class="form-group">
                                <label for="dataDescription">Deskripsi</label>
                                <textarea class="form-control" id="dataDescription" rows="5" placeholder="Masukkan deskripsi data" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-success">Simpan Data</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Search Data Content -->
            <div class="page" id="search-page" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <h3>Cari Data</h3>
                    </div>
                    <div class="card-body">
                        <div class="search-box">
                            <input type="text" id="searchInput" placeholder="Ketik untuk mencari data...">
                            <i class="fas fa-search"></i>
                        </div>
                        <div id="searchResults">
                            <p style="text-align: center; color: #adb5bd;">Ketik untuk mencari data...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Report Content -->
            <div class="page" id="report-page" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <h3>Report Data</h3>
                    </div>
                    <div class="card-body">
                        <div class="search-box">
                            <input type="text" id="reportSearchInput" placeholder="Cari report...">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>No</th>
                                        <th>Judul</th>
                                        <th>Deskripsi</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="reportTableBody">
                                    <tr>
                                        <td colspan="4" style="text-align: center; color: #adb5bd;">Tidak ada data</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Account Data Content -->
            <div class="page" id="account-page" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <h3>Data Rekening</h3>
                    </div>
                    <div class="card-body">
                        <form id="accountForm">
                            <div class="form-group">
                                <label for="bankName">Nama Bank</label>
                                <input type="text" class="form-control" id="bankName" placeholder="Masukkan nama bank" required>
                            </div>
                            <div class="form-group">
                                <label for="accountName">Nama Pemilik</label>
                                <input type="text" class="form-control" id="accountName" placeholder="Masukkan nama pemilik rekening" required>
                            </div>
                            <div class="form-group">
                                <label for="accountNumber">Nomor Rekening</label>
                                <input type="text" class="form-control" id="accountNumber" placeholder="Masukkan nomor rekening" required>
                            </div>
                            <div class="form-group">
                                <label for="branchName">Cabang</label>
                                <input type="text" class="form-control" id="branchName" placeholder="Masukkan nama cabang">
                            </div>
                            <button type="submit" class="btn btn-success">Simpan Data Rekening</button>
                        </form>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Daftar Rekening</h3>
                    </div>
                    <div class="card-body">
                        <div class="search-box">
                            <input type="text" id="accountSearchInput" placeholder="Cari rekening...">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="account-data" id="accountDataContainer">
                            <p style="text-align: center; color: #adb5bd;">Tidak ada data rekening</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Admin Content -->
            <div class="page" id="admin-page" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <h3>Manajemen Admin</h3>
                    </div>
                    <div class="card-body">
                        <form id="adminForm">
                            <div class="form-group">
                                <label for="adminUsername">Username</label>
                                <input type="text" class="form-control" id="adminUsername" placeholder="Masukkan username admin" required>
                            </div>
                            <div class="form-group">
                                <label for="adminPassword">Password</label>
                                <input type="password" class="form-control" id="adminPassword" placeholder="Masukkan password admin" required>
                            </div>
                            <div class="form-group">
                                <label for="adminAccess">Level Akses</label>
                                <select class="form-control" id="adminAccess" required>
                                    <option value="view">View Only</option>
                                    <option value="limited">Limited</option>
                                    <option value="full">Full Access</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-success">Tambah Admin</button>
                        </form>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Daftar Admin</h3>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>No</th>
                                        <th>Username</th>
                                        <th>Level Akses</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="adminTableBody">
                                    <tr>
                                        <td colspan="4" style="text-align: center; color: #adb5bd;">Tidak ada data admin</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Login Page (Initially shown) -->
            <div class="login-container" id="loginPage">
                <h2>Login ke DataApp</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginUsername">Username</label>
                        <input type="text" class="form-control" id="loginUsername" placeholder="Masukkan username" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" class="form-control" id="loginPassword" placeholder="Masukkan password" required>
                    </div>
                    <button type="submit" class="btn btn-block">Login</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <!-- Firebase SDK (Simulated) -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script>
        // Simulated Firebase initialization
        const firebaseConfig = {
            apiKey: "demo-api-key",
            authDomain: "demo-auth-domain",
            projectId: "demo-project-id",
            storageBucket: "demo-storage-bucket",
            messagingSenderId: "demo-messaging-sender-id",
            appId: "demo-app-id"
        };

        // Initialize Firebase (Simulated)
        // firebase.initializeApp(firebaseConfig);
        // const db = firebase.firestore();

        // Simulated database
        let database = {
            data: [],
            accounts: [],
            admins: [
                { id: 1, username: "admin", password: "admin123", access: "full" },
                { id: 2, username: "user", password: "user123", access: "limited" }
            ],
            currentUser: null
        };

        // DOM Elements
        const sidebar = document.getElementById('sidebar');
        const toggleSidebar = document.getElementById('toggleSidebar');
        const menuLinks = document.querySelectorAll('.menu-link');
        const pages = document.querySelectorAll('.page');
        const pageTitle = document.getElementById('pageTitle');
        const loginPage = document.getElementById('loginPage');
        const pageContent = document.getElementById('pageContent');
        const loginForm = document.getElementById('loginForm');
        const notification = document.getElementById('notification');

        // Toggle Sidebar
        toggleSidebar.addEventListener('click', () => {
            sidebar.classList.toggle('active');
        });

        // Menu Navigation
        menuLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetPage = link.getAttribute('data-page');
                
                if (targetPage === 'logout') {
                    logout();
                    return;
                }
                
                // Update active menu
                menuLinks.forEach(l => l.classList.remove('active'));
                link.classList.add('active');
                
                // Show target page
                showPage(targetPage);
            });
        });

        // Show Page
        function showPage(pageName) {
            // Hide all pages
            pages.forEach(page => {
                page.style.display = 'none';
            });
            
            // Show target page
            const targetPage = document.getElementById(`${pageName}-page`);
            if (targetPage) {
                targetPage.style.display = 'block';
                pageTitle.textContent = targetPage.querySelector('.card-header h3').textContent;
                
                // Load data for specific pages
                if (pageName === 'report') {
                    loadReportData();
                } else if (pageName === 'account') {
                    loadAccountData();
                } else if (pageName === 'admin') {
                    loadAdminData();
                } else if (pageName === 'dashboard') {
                    updateDashboardStats();
                }
            }
        }

        // Login Form
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            
            // Check credentials
            const admin = database.admins.find(a => a.username === username && a.password === password);
            
            if (admin) {
                database.currentUser = admin;
                document.getElementById('currentUser').textContent = admin.username;
                loginPage.style.display = 'none';
                pageContent.style.display = 'block';
                showNotification('Login berhasil!', 'success');
                showPage('dashboard');
            } else {
                showNotification('Username atau password salah!', 'error');
            }
        });

        // Logout
        function logout() {
            database.currentUser = null;
            loginPage.style.display = 'block';
            pageContent.style.display = 'none';
            showNotification('Anda telah logout', 'success');
        }

        // Show Notification
        function showNotification(message, type) {
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Input Data Form
        const inputDataForm = document.getElementById('inputDataForm');
        if (inputDataForm) {
            inputDataForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const title = document.getElementById('dataTitle').value;
                const description = document.getElementById('dataDescription').value;
                
                // Add data to database
                const newData = {
                    id: Date.now(),
                    title,
                    description,
                    createdAt: new Date().toISOString()
                };
                
                database.data.push(newData);
                
                // Reset form
                inputDataForm.reset();
                
                showNotification('Data berhasil disimpan!', 'success');
            });
        }

        // Search Data
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        
        if (searchInput) {
            searchInput.addEventListener('input', () => {
                const query = searchInput.value.toLowerCase().trim();
                
                if (query === '') {
                    searchResults.innerHTML = '<p style="text-align: center; color: #adb5bd;">Ketik untuk mencari data...</p>';
                    return;
                }
                
                // Filter data based on query
                const filteredData = database.data.filter(item => 
                    item.title.toLowerCase().includes(query) || 
                    item.description.toLowerCase().includes(query)
                );
                
                if (filteredData.length === 0) {
                    searchResults.innerHTML = '<p style="text-align: center; color: #adb5bd;">Tidak ada data yang ditemukan</p>';
                    return;
                }
                
                // Display results
                let resultsHTML = '';
                filteredData.forEach(item => {
                    resultsHTML += `
                        <div class="data-item">
                            <h4>${item.title}</h4>
                            <p>${item.description}</p>
                            <div class="data-actions">
                                <button class="btn" onclick="copyData('${item.description.replace(/'/g, "\\'")}')">
                                    <i class="fas fa-copy"></i> Salin
                                </button>
                            </div>
                        </div>
                    `;
                });
                
                searchResults.innerHTML = resultsHTML;
            });
        }

        // Copy Data
        function copyData(text) {
            navigator.clipboard.writeText(text)
                .then(() => {
                    showNotification('Data berhasil disalin!', 'success');
                })
                .catch(err => {
                    showNotification('Gagal menyalin data', 'error');
                });
        }

        // Load Report Data
        function loadReportData() {
            const reportTableBody = document.getElementById('reportTableBody');
            
            if (database.data.length === 0) {
                reportTableBody.innerHTML = '<tr><td colspan="4" style="text-align: center; color: #adb5bd;">Tidak ada data</td></tr>';
                return;
            }
            
            let tableHTML = '';
            database.data.forEach((item, index) => {
                tableHTML += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${item.title}</td>
                        <td>${item.description}</td>
                        <td>
                            <button class="btn" onclick="copyData('${item.description.replace(/'/g, "\\'")}')">
                                <i class="fas fa-copy"></i> Salin
                            </button>
                        </td>
                    </tr>
                `;
            });
            
            reportTableBody.innerHTML = tableHTML;
        }

        // Report Search
        const reportSearchInput = document.getElementById('reportSearchInput');
        if (reportSearchInput) {
            reportSearchInput.addEventListener('input', () => {
                const query = reportSearchInput.value.toLowerCase().trim();
                
                if (query === '') {
                    loadReportData();
                    return;
                }
                
                // Filter data based on query
                const filteredData = database.data.filter(item => 
                    item.title.toLowerCase().includes(query) || 
                    item.description.toLowerCase().includes(query)
                );
                
                const reportTableBody = document.getElementById('reportTableBody');
                
                if (filteredData.length === 0) {
                    reportTableBody.innerHTML = '<tr><td colspan="4" style="text-align: center; color: #adb5bd;">Tidak ada data yang ditemukan</td></tr>';
                    return;
                }
                
                // Display results
                let tableHTML = '';
                filteredData.forEach((item, index) => {
                    tableHTML += `
                        <tr>
                            <td>${index + 1}</td>
                            <td>${item.title}</td>
                            <td>${item.description}</td>
                            <td>
                                <button class="btn" onclick="copyData('${item.description.replace(/'/g, "\\'")}')">
                                    <i class="fas fa-copy"></i> Salin
                                </button>
                            </td>
                        </tr>
                    `;
                });
                
                reportTableBody.innerHTML = tableHTML;
            });
        }

        // Account Form
        const accountForm = document.getElementById('accountForm');
        if (accountForm) {
            accountForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const bankName = document.getElementById('bankName').value;
                const accountName = document.getElementById('accountName').value;
                const accountNumber = document.getElementById('accountNumber').value;
                const branchName = document.getElementById('branchName').value;
                
                // Add account to database
                const newAccount = {
                    id: Date.now(),
                    bankName,
                    accountName,
                    accountNumber,
                    branchName,
                    createdAt: new Date().toISOString()
                };
                
                database.accounts.push(newAccount);
                
                // Reset form
                accountForm.reset();
                
                // Reload account data
                loadAccountData();
                
                showNotification('Data rekening berhasil disimpan!', 'success');
            });
        }

        // Load Account Data
        function loadAccountData() {
            const accountDataContainer = document.getElementById('accountDataContainer');
            
            if (database.accounts.length === 0) {
                accountDataContainer.innerHTML = '<p style="text-align: center; color: #adb5bd;">Tidak ada data rekening</p>';
                return;
            }
            
            let accountsHTML = '';
            database.accounts.forEach(account => {
                accountsHTML += `
                    <div class="account-card">
                        <h4>${account.bankName}</h4>
                        <div class="account-details">
                            <p><strong>Nama Pemilik:</strong> ${account.accountName}</p>
                            <p><strong>Nomor Rekening:</strong> ${account.accountNumber}</p>
                            <p><strong>Cabang:</strong> ${account.branchName || '-'}</p>
                        </div>
                        <div class="data-actions">
                            <button class="btn" onclick="copyData('${account.accountNumber}')">
                                <i class="fas fa-copy"></i> Salin No. Rekening
                            </button>
                        </div>
                    </div>
                `;
            });
            
            accountDataContainer.innerHTML = accountsHTML;
        }

        // Account Search
        const accountSearchInput = document.getElementById('accountSearchInput');
        if (accountSearchInput) {
            accountSearchInput.addEventListener('input', () => {
                const query = accountSearchInput.value.toLowerCase().trim();
                
                if (query === '') {
                    loadAccountData();
                    return;
                }
                
                // Filter accounts based on query
                const filteredAccounts = database.accounts.filter(account => 
                    account.bankName.toLowerCase().includes(query) || 
                    account.accountName.toLowerCase().includes(query) ||
                    account.accountNumber.includes(query) ||
                    (account.branchName && account.branchName.toLowerCase().includes(query))
                );
                
                const accountDataContainer = document.getElementById('accountDataContainer');
                
                if (filteredAccounts.length === 0) {
                    accountDataContainer.innerHTML = '<p style="text-align: center; color: #adb5bd;">Tidak ada data rekening yang ditemukan</p>';
                    return;
                }
                
                // Display results
                let accountsHTML = '';
                filteredAccounts.forEach(account => {
                    accountsHTML += `
                        <div class="account-card">
                            <h4>${account.bankName}</h4>
                            <div class="account-details">
                                <p><strong>Nama Pemilik:</strong> ${account.accountName}</p>
                                <p><strong>Nomor Rekening:</strong> ${account.accountNumber}</p>
                                <p><strong>Cabang:</strong> ${account.branchName || '-'}</p>
                            </div>
                            <div class="data-actions">
                                <button class="btn" onclick="copyData('${account.accountNumber}')">
                                    <i class="fas fa-copy"></i> Salin No. Rekening
                                </button>
                            </div>
                        </div>
                    `;
                });
                
                accountDataContainer.innerHTML = accountsHTML;
            });
        }

        // Admin Form
        const adminForm = document.getElementById('adminForm');
        if (adminForm) {
            adminForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                // Check if current user has permission to add admin
                if (database.currentUser.access !== 'full') {
                    showNotification('Anda tidak memiliki izin untuk menambah admin!', 'error');
                    return;
                }
                
                const username = document.getElementById('adminUsername').value;
                const password = document.getElementById('adminPassword').value;
                const access = document.getElementById('adminAccess').value;
                
                // Check if username already exists
                if (database.admins.some(a => a.username === username)) {
                    showNotification('Username sudah digunakan!', 'error');
                    return;
                }
                
                // Add admin to database
                const newAdmin = {
                    id: Date.now(),
                    username,
                    password,
                    access
                };
                
                database.admins.push(newAdmin);
                
                // Reset form
                adminForm.reset();
                
                // Reload admin data
                loadAdminData();
                
                showNotification('Admin berhasil ditambahkan!', 'success');
            });
        }

        // Load Admin Data
        function loadAdminData() {
            const adminTableBody = document.getElementById('adminTableBody');
            
            if (database.admins.length === 0) {
                adminTableBody.innerHTML = '<tr><td colspan="4" style="text-align: center; color: #adb5bd;">Tidak ada data admin</td></tr>';
                return;
            }
            
            let tableHTML = '';
            database.admins.forEach((admin, index) => {
                const accessClass = admin.access;
                const accessText = admin.access === 'full' ? 'Full Access' : 
                                  admin.access === 'limited' ? 'Limited' : 'View Only';
                
                tableHTML += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${admin.username}</td>
                        <td><span class="access-level ${accessClass}">${accessText}</span></td>
                        <td>
                            ${database.currentUser.access === 'full' ? `
                                <button class="btn btn-danger" onclick="deleteAdmin(${admin.id})">
                                    <i class="fas fa-trash"></i> Hapus
                                </button>
                            ` : '-'}
                        </td>
                    </tr>
                `;
            });
            
            adminTableBody.innerHTML = tableHTML;
        }

        // Delete Admin
        function deleteAdmin(adminId) {
            if (database.currentUser.access !== 'full') {
                showNotification('Anda tidak memiliki izin untuk menghapus admin!', 'error');
                return;
            }
            
            // Find admin index
            const adminIndex = database.admins.findIndex(a => a.id === adminId);
            
            if (adminIndex === -1) {
                showNotification('Admin tidak ditemukan!', 'error');
                return;
            }
            
            // Remove admin
            database.admins.splice(adminIndex, 1);
            
            // Reload admin data
            loadAdminData();
            
            showNotification('Admin berhasil dihapus!', 'success');
        }

        // Update Dashboard Stats
        function updateDashboardStats() {
            document.getElementById('totalData').textContent = database.data.length;
            document.getElementById('totalAccounts').textContent = database.accounts.length;
            document.getElementById('totalAdmins').textContent = database.admins.length;
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', () => {
            // Check if user is already logged in
            if (database.currentUser) {
                document.getElementById('currentUser').textContent = database.currentUser.username;
                loginPage.style.display = 'none';
                pageContent.style.display = 'block';
                showPage('dashboard');
            }
        });
    </script>
</body>
</html>
